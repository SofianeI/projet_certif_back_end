CREATE DATABASE projetCertif;

CREATE TABLE IF NOT EXISTS users(
    id INT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
	username VARCHAR(100) UNIQUE NOT NULL,
	password VARCHAR(100) NOT NULL,
    firstname VARCHAR(100),
    lastname VARCHAR(100),
    picture BYTEA
);

	CREATE TABLE IF NOT EXISTS channels(
    id INT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
    name VARCHAR(255) NOT NULL

    );

   CREATE TABLE IF NOT EXISTS messages(
    id INT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
    content VARCHAR(255) NOT NULL,
    id_user INTEGER REFERENCES users(id) ON DELETE CASCADE,
    id_channel INTEGER REFERENCES channels(id) ON DELETE CASCADE,
    date TIMESTAMP DEFAULT CURRENT_TIMESTAMP

    );

    <------------- OLD ------------->
    CREATE TABLE IF NOT EXISTS users(
    id INT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
    firstname VARCHAR(100) NOT NULL,
    lastname VARCHAR(100) NOT NULL,
    picture VARCHAR(255)


